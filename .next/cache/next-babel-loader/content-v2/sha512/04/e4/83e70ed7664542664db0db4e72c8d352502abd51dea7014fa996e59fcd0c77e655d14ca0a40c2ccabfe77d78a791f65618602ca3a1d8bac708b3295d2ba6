{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/mijaa/OneDrive/Escritorio/vaca/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/mijaa/OneDrive/Escritorio/vaca/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\naxios.defaults.baseURL = \"http://api-test.sitiocancun.org/\";\n\nfunction getSignature() {\n  return _getSignature.apply(this, arguments);\n}\n\nfunction _getSignature() {\n  _getSignature = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var keys, _yield$axios$post, Authorization;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            keys = {\n              public_key: \"4ELKABTS5Q\",\n              secret_key: \"ae414c65add499eebcc94dd71cea9b983ac5cebc\"\n            };\n            _context.next = 3;\n            return axios.post(\"/login\", keys);\n\n          case 3:\n            _yield$axios$post = _context.sent;\n            Authorization = _yield$axios$post.data.message.Authorization;\n            axios.defaults.headers.common[\"Signature\"] = Authorization;\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getSignature.apply(this, arguments);\n}\n\nfunction getAllPackages() {\n  return _getAllPackages.apply(this, arguments);\n}\n\nfunction _getAllPackages() {\n  _getAllPackages = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var _yield$axios$get, message;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return getSignature();\n\n          case 2:\n            _context2.next = 4;\n            return axios.get(\"promotions/packages/en\");\n\n          case 4:\n            _yield$axios$get = _context2.sent;\n            message = _yield$axios$get.data.message;\n            return _context2.abrupt(\"return\", message);\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getAllPackages.apply(this, arguments);\n}\n\nfunction getPopularTours() {\n  return _getPopularTours.apply(this, arguments);\n}\n\nfunction _getPopularTours() {\n  _getPopularTours = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    var _yield$axios$get2, message;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return getSignature();\n\n          case 2:\n            _context3.next = 4;\n            return axios.get(\"promotions/populartours/en\");\n\n          case 4:\n            _yield$axios$get2 = _context3.sent;\n            message = _yield$axios$get2.data.message;\n            return _context3.abrupt(\"return\", message);\n\n          case 7:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _getPopularTours.apply(this, arguments);\n}\n\nexport { getAllPackages, getPopularTours };","map":{"version":3,"sources":["C:/Users/mijaa/OneDrive/Escritorio/vaca/services/api.js"],"names":["axios","defaults","baseURL","getSignature","keys","public_key","secret_key","post","Authorization","data","message","headers","common","getAllPackages","get","getPopularTours"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACAA,KAAK,CAACC,QAAN,CAAeC,OAAf,GAAyB,kCAAzB;;SAEeC,Y;;;;;2EAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AACQC,YAAAA,IADR,GACe;AACXC,cAAAA,UAAU,EAAE,YADD;AAEXC,cAAAA,UAAU,EAAE;AAFD,aADf;AAAA;AAAA,mBAUYN,KAAK,CAACO,IAAN,CAAW,QAAX,EAAqBH,IAArB,CAVZ;;AAAA;AAAA;AAQiBI,YAAAA,aARjB,qBAOIC,IAPJ,CAQMC,OARN,CAQiBF,aARjB;AAWER,YAAAA,KAAK,CAACC,QAAN,CAAeU,OAAf,CAAuBC,MAAvB,CAA8B,WAA9B,IAA6CJ,aAA7C;;AAXF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAceK,c;;;;;6EAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEQV,YAAY,EAFpB;;AAAA;AAAA;AAAA,mBAKYH,KAAK,CAACc,GAAN,CAAU,wBAAV,CALZ;;AAAA;AAAA;AAIYJ,YAAAA,OAJZ,oBAIID,IAJJ,CAIYC,OAJZ;AAAA,8CAMSA,OANT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAQeK,e;;;;;8EAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEQZ,YAAY,EAFpB;;AAAA;AAAA;AAAA,mBAKYH,KAAK,CAACc,GAAN,CAAU,4BAAV,CALZ;;AAAA;AAAA;AAIYJ,YAAAA,OAJZ,qBAIID,IAJJ,CAIYC,OAJZ;AAAA,8CAMSA,OANT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AASA,SAASG,cAAT,EAAyBE,eAAzB","sourcesContent":["import axios from \"axios\";\r\naxios.defaults.baseURL = \"http://api-test.sitiocancun.org/\";\r\n\r\nasync function getSignature() {\r\n  const keys = {\r\n    public_key: \"4ELKABTS5Q\",\r\n    secret_key: \"ae414c65add499eebcc94dd71cea9b983ac5cebc\",\r\n  };\r\n\r\n  const {\r\n    data: {\r\n      message: { Authorization },\r\n    },\r\n  } = await axios.post(\"/login\", keys);\r\n  axios.defaults.headers.common[\"Signature\"] = Authorization;\r\n}\r\n\r\nasync function getAllPackages() {\r\n  // setup default headers\r\n  await getSignature();\r\n  const {\r\n    data: { message },\r\n  } = await axios.get(\"promotions/packages/en\");\r\n  return message;\r\n}\r\nasync function getPopularTours() {\r\n  // setup default headers\r\n  await getSignature();\r\n  const {\r\n    data: { message },\r\n  } = await axios.get(\"promotions/populartours/en\");\r\n  return message;\r\n}\r\n\r\nexport { getAllPackages, getPopularTours };\r\n"]},"metadata":{},"sourceType":"module"}